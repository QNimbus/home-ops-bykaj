---
apiVersion: v1
kind: PersistentVolume
metadata:
  name: "${VOLSYNC_CLAIM:-${APP}}"
spec:
  accessModes:
    - "${VOLSYNC_ACCESSMODES:-ReadWriteOnce}"
  capacity:
    storage: "${VOLSYNC_CAPACITY:-1Gi}"
  csi:
    driver: rook-ceph.rbd.csi.ceph.com
    fsType: ext4
    nodeStageSecretRef:
      name: rook-csi-rbd-node
      namespace: rook-ceph
    controllerExpandSecretRef:
      name: rook-csi-rbd-provisioner
      namespace: rook-ceph
    volumeAttributes:
      clusterID: "${VOLSYNC_CLUSTERID:-rook-ceph}"
      pool: "${VOLSYNC_POOL:-ceph-blockpool}"
      staticVolume: "true"
    volumeHandle: "${VOLSYNC_CLAIM:-${APP}}"
  persistentVolumeReclaimPolicy: Retain
  storageClassName: "${VOLSYNC_STORAGECLASS:-ceph-block}"
